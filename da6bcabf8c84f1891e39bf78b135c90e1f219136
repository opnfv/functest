{
  "comments": [
    {
      "key": {
        "uuid": "dabed58f_689556e3",
        "filename": "functest/ci/prepare_env.py",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-02-16T10:18:42Z",
      "side": 1,
      "message": "if cmd execute fail will raise exception everywhere, how about raise exception in execute_command?",
      "revId": "da6bcabf8c84f1891e39bf78b135c90e1f219136",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabed58f_684a3685",
        "filename": "functest/ci/prepare_env.py",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 5959
      },
      "writtenOn": "2017-02-16T10:45:43Z",
      "side": 1,
      "message": "I was thinking in the same way earlier. However, I changed my mind.The execute_command is called by many modules. If it is changed, it\u0027s likely to induce regression while we are in a release phase that cannot afford the risk.\n\nAlso, there are some cases though the command fails but the process should continue. e.g.\nrally deployment destroy opnfv-rally, it fails if the opnfv-rally does not exist. We can check the existence of it first and only delete when it exists. We can also delete it if it exists and ignore the error if it does not exist(current way). If raise exception, the execution will be stopped.",
      "parentUuid": "dabed58f_689556e3",
      "revId": "da6bcabf8c84f1891e39bf78b135c90e1f219136",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabed58f_08229ab9",
        "filename": "functest/ci/prepare_env.py",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 2651
      },
      "writtenOn": "2017-02-16T11:10:50Z",
      "side": 1,
      "message": "how about introducing a new execute_command with raising exception process, and keep the original one for not raising exception purpose.",
      "parentUuid": "dabed58f_684a3685",
      "revId": "da6bcabf8c84f1891e39bf78b135c90e1f219136",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabed58f_ab4a6853",
        "filename": "functest/ci/prepare_env.py",
        "patchSetId": 4
      },
      "lineNbr": 228,
      "author": {
        "id": 459
      },
      "writtenOn": "2017-02-16T11:32:08Z",
      "side": 1,
      "message": "we could add new parameter in execute_command(..., raise_exeption\u003dfalse)\n\nIf set to \u0027true\u0027, it will raise, otherwise, continue.",
      "parentUuid": "dabed58f_08229ab9",
      "revId": "da6bcabf8c84f1891e39bf78b135c90e1f219136",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabed58f_4b5dece8",
        "filename": "functest/ci/prepare_env.py",
        "patchSetId": 4
      },
      "lineNbr": 254,
      "author": {
        "id": 2175
      },
      "writtenOn": "2017-02-16T12:40:28Z",
      "side": 1,
      "message": "not a very realistic scenario, but if there are e.g. 10 verifiers matching grep opnfv-tempest , prepare env fails\n\n2017-02-16 12:17:48,312 - prepare_env - INFO - Installing tempest from existing repo...\n2017-02-16 12:17:49,881 - prepare_env - DEBUG - Tempest opnfv-tempest does not exist\n2017-02-16 12:17:49,882 - functest_utils - DEBUG - Executing command: \u0027rally verify create-verifier --source /home/opnfv/repos/tempest --name opnfv-tempest --type tempest\u0027\n2017-02-16 12:17:51.324 9679 INFO rally.api [-] Creating verifier \u0027opnfv-tempest\u0027.\nVerifier with name \u0027opnfv-tempest\u0027 already exists! Please, specify another name for verifier and try again.\n2017-02-16 12:17:51,457 - functest_utils - ERROR - Problem while installing Tempest.\n2017-02-16 12:17:51,458 - prepare_env - ERROR - Problem while installing Tempest.\n2017-02-16 12:17:51,508 - functest_utils - ERROR - The command \u0027python /home/opnfv/repos/functest/functest/ci/prepare_env.py start\u0027 failed.",
      "revId": "da6bcabf8c84f1891e39bf78b135c90e1f219136",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}