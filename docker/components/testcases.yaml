---
tiers:
    -
        name: components
        order: 3
        description: >-
            Extensive testing of OpenStack API.
        testcases:
            -
                case_name: tempest_full
                project_name: functest
                criteria: 100
                blocking: false
                description: >-
                    The list of test cases is generated by
                    Tempest automatically and depends on the parameters of
                    the OpenStack deployment.
                    https://github.com/openstack/tempest/blob/18.0.0/tox.ini#L83
                run:
                    module: 'functest.opnfv_tests.openstack.tempest.tempest'
                    class: 'TempestCommon'
                    args:
                        mode: '(?!.*\[.*\bslow\b.*\])(^tempest\.api)'
                        option:
                            - '--concurrency=4'

            -
                case_name: tempest_scenario
                project_name: functest
                criteria: 100
                blocking: false
                description: >-
                    The list of test cases is generated by
                    Tempest automatically and depends on the parameters of
                    the OpenStack deployment.
                    https://github.com/openstack/tempest/blob/18.0.0/tox.ini#L84
                run:
                    module: 'functest.opnfv_tests.openstack.tempest.tempest'
                    class: 'TempestCommon'
                    args:
                        mode: '(?!.*\[.*\bslow\b.*\])(^tempest\.scenario)'
                        option:
                            - '--serial'

            -
                case_name: rally_full
                project_name: functest
                criteria: 100
                blocking: false
                description: >-
                    This test case runs the full suite of scenarios of the
                    OpenStack Rally suite using several threads and iterations.
                run:
                    module: 'functest.opnfv_tests.openstack.rally.rally'
                    class: 'RallyFull'
